# 国际化 (i18n) 标准

## 核心原则

- 从一开始就为全球受众设计
- 将内容与代码分离
- 支持多种语言和语言环境
- 尊重文化差异和敏感性
- 实现自动语言检测
- 允许手动选择语言
- 使用目标市场的真实用户进行测试

## 语言与内容

### 文本管理

- 将所有面向用户的文本存储在资源文件中
- 切勿在组件中硬编码文本字符串
- 对文本资源使用唯一的描述性键
- 按功能或页面组织翻译
- 支持不同语言的复数规则
- 处理特定性别的变体
- 支持从右到左 (RTL) 的语言
- 实现缺失翻译的回退机制

### 翻译流程

- 为译者提供上下文
- 包含占位符/变量描述
- 使用专业翻译服务
- 实现翻译记忆系统
- 允许文本扩展（某些语言（可能需要更多空间）
- 提供屏幕截图以方便理解
- 实施翻译审核流程
- 支持持续的翻译更新

### 内容注意事项

- 避免使用特定文化的隐喻或习语
- 注意不同文化中的颜色象征意义
- 考虑不同的姓名格式和称呼标准
- 尊重文化敏感性和禁忌
- 必要时根据当地市场调整内容
- 使用文化中立的图像
- 考虑阅读方向（从左到右）
- 避免使用俚语和口语

## 技术实施

### 框架和库

- 使用成熟的 i18n 库：
- react-i18next / i18next (React)
- vue-i18n (Vue)
- angular/localize (Angular)
- next-intl (Next.js)
- Format.js (React)
- 实现适当的语言检测
- 支持语言切换无需页面刷新
- 配置备用语言
- 实现翻译延迟加载
- 缓存翻译以提高性能
- 支持嵌套翻译键
- 实现复数和格式

### 代码结构

- 按语言分隔翻译文件
- 使用 JSON 或 YAML 作为翻译资源
- 为大型应用程序实现命名空间
- 保持翻译键的组织性和可维护性
- 遵循一致的键命名约定
- 记录特殊格式或变量
- 实现翻译键的类型安全 (TypeScript)
- 必要时支持动态键生成

### 格式

#### 日期和时间

- 使用支持国际日期格式的库
- 以用户首选格式显示日期
- 考虑时区和夏令时
- 根据语言环境约定格式化日期
- 根据需要支持不同的日历系统
- 使用 ISO 格式进行数据交换
- 根据文化适当显示相对时间

#### 数字和货币

- 根据语言环境格式化数字惯例
- 使用正确的小数点和千位分隔符
- 使用合适的符号格式化货币
- 根据语言环境正确定位货币符号
- 支持不同的数字系统
- 根据语言环境格式化百分比
- 考虑跨区域应用的汇率

#### 地址和电话号码

- 支持不同的地址格式
- 适应各种邮政编码格式
- 处理国际电话号码（E.164 格式）
- 根据当地惯例格式化电话号码
- 支持不同的姓名排序惯例
- 考虑不同文化背景下的敬语和头衔
- 根据特定国家/地区的规则验证地址

## UI 注意事项

### 布局和设计

- 设计灵活的布局以适应文本扩展
- 支持 LTR 和 RTL 文本方向
- 实现双向 (bidi) 文本支持
- 使用较长的文本字符串测试布局
- 避免使用固定宽度的文本容器
- 考虑不同语言的字体大小变化
- 使用实际翻译内容进行测试，而不是lorem ipsum
- 根据需要实现特定语言的 CSS

### 排版

- 使用支持多种语言的字体
- 包含适当的字体回退
- 考虑不同语言的字符集
- 支持特殊字符和变音符号
- 调整不同脚本的行高
- 测试跨语言的可读性
- 考虑对某些东亚语言使用垂直文本
- 正确使用 Unicode

### 导航和控件

- 翻译导航项和控件
- 调整导航以适应 RTL 语言
- 考虑文化阅读模式
- 确保图标符合文化差异
- 测试不同键盘布局的键盘快捷键
- 提供本地化的帮助和文档
- 翻译错误消息和通知
- 本地化搜索功能

## 测试和质量保证

### 测试策略

- 与母语人士测试
- 在上下文中验证翻译
- 测试文本扩展和截断
- 验证日期、数字和货币格式
- 测试 RTL 布局彻底检查
- 验证语言切换功能
- 使用不同的语言环境设置进行测试
- 实施自动化国际化测试

### 常见问题

- 检查硬编码字符串
- 验证复数形式是否正确
- 查找连接字符串
- 测试 Unicode 处理问题
- 验证排序和排序规则
- 检查逻辑中的文化假设
- 使用长单词和字符串进行测试
- 验证特殊字符的处理

### 工具与自动化

- 实施 linting 以解决国际化问题
- 使用翻译管理系统
- 自动生成屏幕截图以用于上下文
- 实施伪本地化测试
- 使用自动化测试解决布局问题
- 跟踪翻译覆盖率和质量
- 实施国际化的持续集成/持续交付 (CI/CD) 检查
- 监控缺失的翻译

## 法律与合规

- 研究当地法律要求
- 调整不同地区的隐私政策
- 考虑 GDPR 和其他隐私法规
- 调整服务条款以适应当地市场
- 注意内容各国限制
- 考虑各地区的无障碍要求
- 记录合规措施
- 咨询主要市场的法律专家