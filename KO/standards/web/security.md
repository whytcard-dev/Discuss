# 웹 보안 표준

## 핵심 보안 원칙

- 심층 방어(다중 보안 계층)
- 최소 권한 원칙
- 설계 및 기본 보안
- 정기적인 보안 테스트 및 감사
- 보안 종속성 업데이트 유지
- 안전한 실패(안전한 기본값)
- 완전한 중재(모든 요청 검증)
- 모든 팀원을 위한 보안 교육

## 인증 및 권한 부여

### 인증

- 강력한 비밀번호 정책 구현
- 최소 길이: 12자
- 문자, 숫자, 기호 조합 요구
- 일반적인 비밀번호 목록과 비교
- 다중 요소 인증(MFA) 지원
- 안전한 세션 관리 사용
- HTTP 전용 쿠키
- HTTPS 보안 플래그
- SameSite 속성
- 적절한 만료일 설정
- 실패 시도 후 계정 잠금 구현
- 안전한 비밀번호 재설정 흐름
- 안전한 비밀번호 저장소 사용(bcrypt/Argon2)
- 비밀번호 없는 옵션 고려(WebAuthn, 매직 링크)

### 권한 부여

- 역할 기반 접근 제어(RBAC) 구현
- 복잡한 권한에 속성 기반 접근 제어 사용
- 모든 요청에 대한 권한 검증
- 적절한 접근 제어 검사 구현
- 보안 세션 처리 사용
- API 권한 부여(OAuth 2.0, JWT) 구현
- 직접 객체 참조 방지
- 모든 접근 제어 실패 기록

## 데이터 보호

### 민감한 데이터

- 민감한 데이터 식별 및 분류
- 저장된 민감한 데이터 암호화
- 전송 중인 데이터에 TLS 1.3 사용
- 적절한 키 관리 구현
- 민감한 데이터 수집 최소화
- 데이터 최소화 원칙 적용
- 안전한 데이터 삭제 구현
- API 키 및 비밀 정보 보안 저장소 사용

### 입력 유효성 검사

- 서버 측의 모든 입력 유효성 검사
- 데이터베이스 접근에 매개변수화된 쿼리 사용
- 입력 데이터 삭제 구현
- 적절한 데이터 유형, 길이 검증 형식
- 거부 목록 대신 허용 목록 사용
- 컨텍스트별 출력 인코딩 구현
- 파일 업로드(유형, 크기, 콘텐츠) 검증
- 입력 속도 제한 구현

## 일반적인 취약점 예방

### 주입 방지

- 매개변수화된 쿼리/준비된 명령문 사용
- 적절한 이스케이프를 사용한 ORM 적용
- 모든 입력 검증 및 정제
- 컨텍스트 인식 출력 인코딩 구현
- 인터프리터 주입을 방지하는 안전한 API 사용

### XSS 예방

- 콘텐츠 보안 정책(CSP) 구현
- 자동 출력 인코딩 사용
- 컨텍스트별 인코딩 적용
- HTML 입력 정제
- XSS 보호 기능이 내장된 최신 프레임워크 사용
- 리디렉션 URL 검증
- 민감한 쿠키에 HTTPOnly 플래그 적용

### CSRF 예방

- CSRF 방지 토큰 구현
- SameSite 쿠키 속성 사용
- 출처 및 참조자 확인 헤더
- 민감한 작업에 대한 재인증 요구
- 적절한 CORS 구성 사용

### 보안 헤더

- 콘텐츠 보안 정책(CSP)
- X-Content-Type-Options: nosniff
- 엄격한 전송 보안(HSTS)
- X-Frame-Options
- 참조자 정책(Referrer-Policy)
- 권한 정책(Permissions-Policy)
- 민감한 데이터에 대한 Cache-Control 헤더
- 로그아웃에 대한 Clear-Site-Data

## 인프라 보안

### 서버 보안

- 서버 소프트웨어 최신 상태 유지
- 안전한 서버 구성 사용
- 적절한 방화벽 규칙 구현
- HTTPS만 활성화(HTTP를 HTTPS로 리디렉션)
- 적절한 TLS 설정 구성
- 불필요한 서비스 비활성화
- 보안 중심 웹 서버 모듈 사용
- 속도 제한 및 DDoS 보호 구현

### API 보안

- 모든 API에 HTTPS 사용 엔드포인트
- 적절한 인증 구현
- 속도 제한 적용
- 요청 페이로드 검증
- 적절한 상태 코드 반환
- 응답에서 민감한 정보 노출 방지
- 서비스 간 통신에 API 키 사용
- API 소비자를 위한 보안 요구 사항 문서화

### 종속성 관리

- 취약한 종속성 정기 검사
- 잠금 파일을 사용하여 종속성 버전 고정
- 자동화된 취약성 검사 구현
- 종속성 즉시 업데이트
- 종속성 사용 최소화
- 종속성 무결성(체크섬) 검증
- 공급망 공격 모니터링
- 취약성 대응 계획 수립

## 보안 테스트

### 정적 분석

- 자동화된 SAST 도구 구현
- CI/CD에 보안 린팅 통합
- 하드코딩된 비밀 검사
- 보안 안티패턴 코드 분석
- 보안 구성 검증
- 오래된 종속성 확인
- 보안 코딩 표준 적용

### 동적 테스트

- 정기적인 침투 테스트 수행
- 자동화된 DAST 스캐닝 구현
- 대화형 애플리케이션 보안 테스트 사용
- 정기적인 취약성 평가 수행
- 인증 및 권한 부여 흐름 테스트
- 보안 헤더 및 구성 검증
- 일반적인 공격 시나리오 시뮬레이션

## 보안 모니터링 및 대응

### 로깅 및 모니터링

- 포괄적인 보안 로깅 구현
- 인증 이벤트 로깅
- 접근 제어 실패 로깅
- 의심스러운 활동 모니터링
- 실시간 알림 구현
- 중앙 집중식 로그 관리 사용
- 로그 변조 방지
- 적절한 기간 동안 로그 보관

### 사고 대응

- 사고 대응 계획 수립
- 역할 및 책임 정의
- 통신 프로토콜 구축
- 격리 절차 문서화
- 포렌식 분석 기능 구현
- 사고 후 검토 수행
- 사고 대응 시나리오 연습
- 보안 커뮤니티와의 연락 유지

## 규정 준수 및 개인정보 보호

### 규정 준수 규정 준수

- 적용 가능한 규정(GDPR, CCPA 등) 파악
- 필요한 보안 제어 구현
- 정기적인 규정 준수 평가 수행
- 규정 준수 조치 문서화
- 규정 준수 요건에 대한 팀 교육
- 설계 단계부터 개인정보 보호 구현
- 필요한 문서 유지 관리

### 개인정보 보호 고려 사항

- 명확한 개인정보 보호 정책 구현
- 데이터 수집에 대한 적절한 동의 확보
- 데이터 접근 및 삭제 메커니즘 제공
- 데이터 수집 및 보관 최소화
- 데이터 이동성 구현
- 개인정보 보호 영향 평가 수행
- 모든 설계 결정에서 개인정보 보호 고려