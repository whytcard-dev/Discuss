# Allmän stilguide för WhytCard ## Introduktion Detta dokument definierar den allmänna kodningsstilen och bästa praxis att följa för alla språk och tekniker som används i WhytCard-projektet. Dessa standarder säkerställer konsekvens, underhållbarhet och kvalitet i hela kodbasen. ## Innehållsförteckning 1. [Grundläggande principer](#fundamental-principles) 2. [Namngivningskonventioner](#naming-conventions) 3. [Formatering](#formatting) 4. [Dokumentation](#documentation) 5. [Kodstruktur](#code-structure) 6. [Språkspecifika riktlinjer](#språkspecifika-riktlinjer) 7. [Versionskontroll](#version-control) ## Grundläggande principer ### Tydlighet framför smarthet Prioritera alltid kodens tydlighet framför smarta eller komplexa lösningar: - Skriv kod som är lätt att förstå - Undvik obskyra språkfunktioner om det inte är nödvändigt - Prioritera läsbarhet och underhållbarhet framför korthet ### Konsekvens Bibehåll konsekvens i hela kodbasen: - Följ etablerade mönster i projektet - Blanda inte olika stilar eller tillvägagångssätt - Matcha dess stil när du modifierar befintlig kod ### DRY (Don&#39;t Repeat Yourself) Undvik koddubblering: - Extrahera upprepad kod till funktioner eller klasser - Skapa delade verktyg för gemensamma operationer - Använd arv eller komposition för att dela beteende ### KISS (Keep It Simple, Stupid) Föredra enkla lösningar framför komplexa: - Börja med den enklaste metoden som fungerar - Lägg till komplexitet endast vid behov - Bryt ner komplexa problem i enklare delar ### YAGNI (You Aren&#39;t Gonna Need It) Lägg inte till funktionalitet förrän det är nödvändigt: - Undvik spekulativa funktioner - Implementera bara det som krävs nu - Refaktorera vid behov, inte i förväg ## Namngivningskonventioner ### Allmänna regler - Namn bör vara beskrivande och förmedla ett syfte - Använd fullständiga ord snarare än förkortningar (förutom vanliga) - Var konsekvent med befintliga namngivningsmönster ### Skiftlägesstilar Använd lämplig skiftlägesstil för varje språk: - **camelCase**: JavaScript/TypeScript-variabler och -funktioner - **PascalCase**: Klasser i de flesta språk, React-komponenter - **snake_case**: Python-variabler och -funktioner - **kebab-case**: HTML-element, CSS-klasser, filnamn - **UPPER_SNAKE_CASE**: Konstanter i de flesta språk ### Namngivningsexempel ```javascript // JavaScript const userProfile = { förnamn: &#39;John&#39;, efternamn: &#39;Doe&#39;, EMAIL_REGEX: /^[^@]+@[^@]+\.[^@]+$/, }; function calculateTotalPrice(items) { // Implementering } class UserManager { // Implementering } ``` ```python # Python user_profile = { &quot;first_name&quot;: &quot;John&quot;, &quot;last_name&quot;: &quot;Doe&quot;, &quot;EMAIL_REGEX&quot;: r&quot;^[^@]+@[^@]+\.[^@]+$&quot;, } def calculate_total_price(items): # Implementering godkänd class UserManager: # Implementering godkänd ``` ## Formatering ### Indrag - Använd konsekvent indrag genom hela projektet - För JavaScript/TypeScript/HTML/CSS: 2 mellanslag - För Python: 4 mellanslag (PEP 8) - Blanda aldrig tabbar och mellanslag ### Radlängd - Begränsa rader till maximalt 100 tecken för de flesta språk - För Python, följ PEP 8 (79 tecken för kod, 72 för kommentarer) - Bryt långa rader på ett sätt som är naturligt för språket ### Mellanrum - Använd mellanslag runt operatorer - Använd mellanslag efter kommatecken och semikolon - Använd konsekvent avstånd i funktionsanrop och deklarationer ### Parenteser och block - Inledande parenteser på samma rad för de flesta språk (förutom för Python-funktioner och klasser) - Konsekvent användning av parenteser även för block med en rad - Justera avslutande parenteser med början av den inledande raden ### Exempel ```javascript // JavaScript-funktion beräknaRabatt(pris, rabattProcent) { if (pris &lt;= 0) { return 0; } const rabatt = pris * (rabattProcent / 100); return rabatt; } const items = [ { namn: &#39;Artikel 1&#39;, pris: 10 }, { namn: &#39;Artikel 2&#39;, pris: 20 }, { namn: &#39;Artikel 3&#39;, pris: 30 }, ]; ``` ```python # Python def calculate_discount(price, discount_percent): if price &lt;= 0: return 0 discount = price * (discount_percent / 100) return discount items = [ {&quot;name&quot;: &quot;Artikel 1&quot;, &quot;price&quot;: 10}, {&quot;name&quot;: &quot;Artikel 2&quot;, &quot;price&quot;: 20}, {&quot;name&quot;: &quot;Artikel 3&quot;, &quot;price&quot;: 30}, ] ``` ## Dokumentation ### Kodkommentarer - Använd kommentarer för att förklara &quot;varför&quot;, inte &quot;vad&quot; - Kommentera komplexa algoritmer eller icke-uppenbara lösningar - Håll kommentarer uppdaterade med kodändringar - Undvik redundanta eller uppenbara kommentarer ### Funktions- och metoddokumentation Dokumentera alla funktioner och metoder med: - Beskrivning av syfte - Parametrar och deras typer - Returvärde och typ - Undantag som kan utlösas - Användningsexempel för komplexa funktioner ### Filrubriker Inkludera i början av varje fil: - Kort beskrivning av filens syfte - Författarinformation - Skapandedatum - Licensinformation ### Exempel ```javascript /** * Beräknar det totala priset för varor efter att rabatter har tillämpats. * * @param {Array<Object> } items - Array av item-objekt med price-egenskapen * @param {number} discountPercent - Rabattprocent (0-100) * @returns {number} Totalpris efter rabatt * * @example * const items = [{ price: 10 }, { price: 20 }]; * const total = calculateTotalPrice(items, 10); // Returnerar 27 */ function calculateTotalPrice(items, discountPercent) { // Implementering } ``` ```python def calculate_total_price(items, discount_percent): &quot;&quot;&quot; Beräkna det totala priset för artiklar efter att rabatter har tillämpats. Args: items: Lista över ordböcker med price-egenskapen discount_percent: Rabattprocent (0-100) Returnerar: float: Totalt pris efter rabatt Exempel: items = [{&quot;price&quot;: 10}, {&quot;price&quot;: 20}] total = calculate_total_price(items, 10) # Returnerar 27 &quot;&quot;&quot; # Implementering ``` ## Kodstruktur ### Filorganisation - En primär klass/komponent per fil - Gruppera relaterad funktionalitet i samma katalog - Separera gränssnittet från implementeringen när det är lämpligt - Håll filerna rimligt stora (&lt; 500 rader som riktlinje) ### Funktions- och metodstorlek - Håll funktioner och metoder små och fokuserade - Sikta på funktioner som gör en sak bra - Begränsa funktionslängden (&lt; 50 rader som riktlinje) - Extrahera komplex logik till hjälpfunktioner ### Beroendehantering - Minimera beroenden mellan moduler - Använd beroendeinjektion för att minska koppling - Dokumentera modulberoenden tydligt - Undvik cirkulära beroenden ### Felhantering - Hantera fel på lämplig nivå - Använd undantag för exceptionella förhållanden - Ge meningsfulla felmeddelanden - Svälj inte undantag utan god anledning ## Språkspecifika riktlinjer ### JavaScript/TypeScript - Följ Airbnbs JavaScript-stilguide - Använd ES6+ funktioner när det är lämpligt - Använd TypeScript för typsäkerhet - Föredra funktionella programmeringsmönster ```javascript // Föredra const framför let när variabeln inte kommer att omtilldelas const PI = 3.14159; // Använd mallliteraler för stränginterpolering const greeting = `Hej, ${name}!`; // Använd destrukturerande tilldelning const { firstName, lastName } = user; // Använd pilfunktioner för korta återanrop const doubled = numbers.map(n =&gt; n * 2); ``` ### Python - Följ PEP 8 stilguide - Använd type hints (PEP 484) - Föredra list/dict-förståelser för enkla fall - Använd kontexthanterare för resurshantering ```python # Använd listförståelser för enkla transformationer doubled = [n * 2 för n i tal] # Använd kontexthanterare för resurshantering med open(&quot;file.txt&quot;, &quot;r&quot;) som f: content = f.read() # Använd type hints def greet(namn: str) -&gt; str: return f&quot;Hej, {namn}!&quot; ``` ### HTML/CSS - Använd semantiska HTML-element - Följ BEM-metodik för CSS-klasser - Minimera inline-stilar - Använd CSS-variabler för tematisering ```html <!-- Use semantic HTML --><article class="card"><header class="card__header"><h2 class="card__title"> Titel</h2></header><div class="card__content"><p> Innehållet kommer hit</p></div></article> ``` ```css /* Använd CSS-variabler för teman */ :root { --primary-color: #3498db; --secondary-color: #2ecc71; } .card { border: 1px solid var(--primary-color); } /* Följ BEM-metodiken */ .card__header { background-color: var(--primary-color); } .card__title { font-size: 1.5rem; } ``` ## Versionskontroll ### Commit-meddelanden - Skriv tydliga, beskrivande commit-meddelanden - Använd imperativ (&quot;Lägg till funktion&quot; inte &quot;Tillagd funktion&quot;) - Referera till ärendenummer när det är tillämpligt - Följ det konventionella commit-formatet ``` feat: add user authentication system - Implementera JWT-baserad autentisering - Lägg till inloggnings- och registreringsslutpunkter - Skapa autentiseringsmellanprogram Stänger #123 ``` ### Förgreningsstrategi - Använd funktionsgrenar för ny utveckling - Håll huvud-/mastergrenen stabil - Använd pull requests för kodgranskning - Ta bort grenar efter sammanslagning ### Kodgranskningar - Granska all kod före sammanslagning - Fokusera på arkitektur, säkerhet och prestanda - Var konstruktiv och respektfull i kommentarer - Använd automatiserade verktyg för att upptäcka stilproblem ## Slutsats Denna stilguide är utformad för att säkerställa konsekvens och kvalitet i hela WhytCard-kodbasen. Även om den täcker allmänna principer, se språkspecifika guider för mer detaljerade regler. Kom ihåg att målet är att skapa underhållbar, läsbar och robust kod. Alla teammedlemmar förväntas följa dessa riktlinjer och hjälpa till att upprätthålla dem genom kodgranskningar och mentorskap. --- Senast uppdaterad: 2025-01-15 