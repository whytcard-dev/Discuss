# 国際化（i18n）標準

## コア原則

- 最初から世界中のユーザーを想定して設計する
- コンテンツとコードを分離する
- 複数の言語とロケールをサポートする
- 文化の違いと感受性を尊重する
- 自動言語検出を実装する
- 手動での言語選択を許可する
- ターゲット市場の実際のユーザーでテストする

## 言語とコンテンツ

### テキスト管理

- ユーザーに表示されるすべてのテキストをリソースファイルに保存する
- コンポーネントにテキスト文字列をハードコードしない
- テキストリソースには一意の説明的なキーを使用する
- 機能またはページごとに翻訳を整理する
- 異なる言語の複数形ルールをサポートする
- 性別によるバリエーションに対応する
- 右から左に書く（RTL）言語をサポートする
- 翻訳が見つからない場合のフォールバックメカニズムを実装する

### 翻訳プロセス

- 翻訳者にコンテキストを提供する
- プレースホルダ/変数の説明を含める
- プロの翻訳サービスを利用する
- 翻訳メモリを実装するシステム
- テキストの拡張を可能にする（一部の言語ではより多くのスペースが必要です）
- コンテキストを示すスクリーンショットを提供する
- 翻訳のレビュープロセスを実装する
- 継続的な翻訳更新をサポートする

### コンテンツに関する考慮事項

- 文化特有の比喩や慣用句を避ける
- 文化間での色の象徴性に注意する
- 異なる名前の形式と住所の標準を考慮する
- 文化的な感受性とタブーを尊重する
- 必要に応じて、コンテンツをローカル市場に合わせて調整する
- 文化的に中立な画像を使用する
- 読み方向を考慮する（LTR vs RTL）
- 俗語や口語表現を避ける

## 技術的な実装

### フレームワークとライブラリ

- 確立されたi18nライブラリを使用する：
- react-i18next / i18next (React)
- vue-i18n (Vue)
- angle/localize (Angular)
- next-intl (Next.js)
- Format.js (React)
- 適切な言語検出を実装する
- ページの再読み込みなしで言語切り替えをサポートする
- フォールバック言語を設定する
- 翻訳の遅延読み込みを実装する
- パフォーマンス向上のために翻訳をキャッシュする
- ネストされた翻訳キーをサポートする
- 複数形化とフォーマットを実装する

### コード構造

- 翻訳ファイルを言語ごとに分ける
- 翻訳リソースにはJSONまたはYAMLを使用する
- 大規模アプリケーションには名前空間を実装する
- 翻訳キーを整理し、保守しやすい状態に保つ
- キーには一貫した命名規則に従う
- 特殊なフォーマットや変数をドキュメント化する
- 翻訳キーに型安全性を実装する (TypeScript)
- 必要に応じて動的なキー生成をサポートする

### フォーマット

#### 日付と時刻

- 国際的な日付形式をサポートするライブラリを使用する
- ユーザーが希望する形式で日付を表示する
- タイムゾーンと夏時間を考慮する
- ロケール規則に従って日付をフォーマットする
- 必要に応じて異なる暦法をサポートする
- データ交換にはISO形式を使用する
- 表示文化に応じて相対時間を適切に設定する

#### 数値と通貨

- ロケールの慣例に従って数値をフォーマットする
- 適切な小数点と3桁区切りを使用する
- 適切な記号を使用して通貨をフォーマットする
- ロケールに応じて通貨記号を正しく配置する
- 異なる数値表記法をサポートする
- ロケールに応じてパーセンテージをフォーマットする
- 複数地域で利用可能なアプリケーションの為替レートを考慮する

#### 住所と電話番号

- さまざまな住所形式をサポートする
- さまざまな郵便番号形式に対応する
- 国際電話番号（E.164形式）を処理する
- 地域の慣例に従って電話番号をフォーマットする
- 異なる名前の順序付け慣例をサポートする
- 文化に応じて敬称とタイトルを考慮する
- 国固有のルールに従って住所を検証する

## UIに関する考慮事項

### レイアウトとデザイン

- テキストの拡張に対応する柔軟なレイアウトを設計する
- LTRとRTLの両方のテキスト方向をサポートする
- 双方向（bidi）テキストサポートを実装する
- レイアウトをテストする長いテキスト文字列
- テキスト用に固定幅のコンテナを使用しない
- 言語間のフォントサイズの違いを考慮する
- 翻訳済みコンテンツではなく、実際の翻訳コンテンツでテストする
- 必要に応じて言語固有のCSSを実装する

### タイポグラフィ

- 複数の言語をサポートするフォントを使用する
- 適切なフォントフォールバックを含める
- 異なる言語の文字セットを考慮する
- 特殊文字と発音区別記号をサポートする
- 異なるスクリプトに合わせて行の高さを調整する
- 言語間の可読性をテストする
- 一部の東アジア言語では縦書きテキストを考慮する
- Unicodeを適切に使用する

### ナビゲーションとコントロール

- ナビゲーション項目とコントロールを翻訳する
- RTL言語のナビゲーションを調整する
- 文化的な読み方を考慮する
- アイコンが文化的に中立であることを確認する
- キーボードレイアウト間でキーボードショートカットをテストする
- ローカライズされたヘルプとドキュメントを提供する
- エラーメッセージと通知を翻訳する
- 検索機能をローカライズする

## テストと品質保証

### テスト戦略

- テストネイティブスピーカーによる
- 文脈に沿った翻訳の検証
- テキストの拡張と切り捨てのテスト
- 日付、数値、通貨の書式設定の検証
- RTLレイアウトの徹底的なテスト
- 言語切り替え機能の検証
- 異なるロケール設定でのテスト
- 自動i18nテストの実装

### よくある問題

- ハードコードされた文字列の確認
- 適切な複数形化の検証
- 連結文字列のチェック
- Unicode処理の問題のテスト
- ソートと照合の検証
- ロジックにおける文化的前提のチェック
- 長い単語と文字列でのテスト
- 特殊文字の処理の検証

### ツールと自動化

- i18n問題に対するLintの実装
- 翻訳管理システムの使用
- 文脈に合わせたスクリーンショット生成の自動化
- テスト用の疑似ローカリゼーションの実装
- レイアウト問題に対する自動テストの使用
- 翻訳の範囲と品質の追跡
- i18nに対するCI/CDチェックの実装
- 監視翻訳が不足しています

## 法務とコンプライアンス

- 地域の法的要件を調査する
- 地域ごとにプライバシーポリシーを調整する
- GDPRやその他のプライバシー規制を考慮する
- 地域市場に合わせて利用規約を調整する
- 国ごとのコンテンツ制限に注意する
- 地域ごとのアクセシビリティ要件を考慮する
- コンプライアンス対策を文書化する
- 主要市場の法律専門家に相談する