# Стандарты интернационализации (i18n) 

## Основные принципы 

- Проектируйте для глобальной аудитории с самого начала 
- Отделяйте контент от кода 
- Поддерживайте несколько языков и локалей 
- Уважайте культурные различия и чувствительность 
- Внедряйте автоматическое определение языка 
- Разрешите ручной выбор языка 
- Тестируйте с реальными пользователями из целевых рынков 

## Язык и контент 

### Управление текстом 

- Храните весь текст, который видит пользователь, в файлах ресурсов 
- Никогда не задавайте текстовые строки в компонентах 
- Используйте уникальные описательные ключи для текстовых ресурсов 
- Организуйте переводы по функциям или страницам 
- Поддерживайте правила плюрализации для разных языков 
- Обрабатывайте гендерно-зависимые вариации 
- Поддерживайте языки с письмом справа налево (RTL) 
- Внедряйте резервные механизмы для отсутствующих переводов 

### Процесс перевода 

- Предоставляйте контекст для переводчиков 
- Включайте описания заполнителей/переменных 
- Используйте профессиональные услуги перевода 
- Внедряйте Системы памяти переводов 
- Разрешите расширение текста (некоторые языки требуют больше места) 
- Предоставьте скриншоты для контекста 
- Внедрите процесс проверки переводов 
- Поддерживайте постоянные обновления переводов 

### Соображения относительно контента 

- Избегайте культурно-специфических метафор или идиом 
- Помните о цветовой символике в разных культурах 
- Рассмотрите различные форматы имен и стандарты адресов 
- Уважайте культурную чувствительность и табу 
- Адаптируйте контент для местных рынков, когда это необходимо 
- Используйте культурно-нейтральные изображения 
- Рассмотрите направление чтения (слева направо или справа налево) 
- Избегайте сленга и разговорных выражений 

## Техническая реализация 

### Фреймворк и библиотеки 

- Используйте установленные библиотеки i18n: 
- react-i18next / i18next (React) 
- vue-i18n (Vue) 
- angular/localize (Angular) 
- next-intl (Next.js) 
- Format.js (React) 
- Реализовать правильное определение языка 
- Поддержка переключения языка без перезагрузки страницы 
- Настройка резервных языков 
- Реализовать отложенную загрузку для переводов 
- Кэшировать переводы для производительности 
- Поддержка вложенных ключей перевода 
- Реализовать плюрализацию и форматирование 

### Структура кода 

- Отдельные файлы перевода по языкам 
- Использование JSON или YAML для ресурсов перевода 
- Реализовать пространства имен для больших приложений 
- Сохранение ключей перевода организованными и удобными для обслуживания 
- Соблюдение единых соглашений об именовании ключей 
- Документирование специального форматирования или переменных 
- Реализовать безопасность типов для ключей перевода (TypeScript) 
- Поддержка динамической генерации ключей при необходимости 

### Форматирование 

#### Дата и время 

- Использование библиотек, поддерживающих международные форматы дат 
- Отображение дат в предпочтительном для пользователя формате 
- Учет часовых поясов и летнего времени 
- Форматирование дат в соответствии в соответствии с местными правилами
- При необходимости поддерживайте различные календарные системы
- Используйте формат ISO для обмена данными
- Отображайте относительное время соответствующим образом в зависимости от культуры

#### Числа и валюта

- Форматируйте числа в соответствии с местными правилами
- Используйте правильные десятичные и тысячные разделители
- Форматируйте валюты с соответствующими символами
- Правильно размещайте символы валют в зависимости от локали
- Поддерживайте различные системы счисления
- Форматируйте проценты в соответствии с локалью
- Учитывайте курсы валют для многорегиональных приложений

#### Адреса и номера телефонов

- Поддерживайте различные форматы адресов
- Принимайте различные форматы почтовых индексов
- Обрабатывайте международные телефонные номера (формат E.164)
- Форматируйте телефонные номера в соответствии с местными правилами
- Поддерживайте различные правила порядка имен
- Учитывайте почетные звания и титулы в разных культурах
- Проверяйте адреса по правилам, специфичным для страны

## Соображения относительно пользовательского интерфейса

### Макет и дизайн

- Разрабатывайте гибкие макеты, которые поддержка расширения текста 
- Поддержка как LTR, так и RTL направлений текста 
- Реализация поддержки двунаправленного (bidi) текста 
- Тестирование макетов с более длинными текстовыми строками 
- Избегайте контейнеров фиксированной ширины для текста 
- Учитывайте различия в размере шрифта на разных языках 
- Тестирование с фактическим переведенным контентом, а не lorem ipsum 
- Реализация CSS для конкретного языка при необходимости 

### Типография 

- Используйте шрифты, поддерживающие несколько языков 
- Включайте соответствующие резервные шрифты 
- Учитывайте наборы символов для разных языков 
- Поддержка специальных символов и диакритических знаков 
- Отрегулируйте высоту строк для разных сценариев 
- Тестирование читаемости на разных языках 
- Учитывайте вертикальный текст для некоторых восточноазиатских языков 
- Правильное использование Unicode 

### Навигация и элементы управления 

- Перевод элементов и элементов управления навигации 
- Настройка навигации для языков RTL 
- Учитывайте культурные особенности чтения 
- Убедитесь, что значки культурно нейтральны 
- Тестирование сочетаний клавиш на разных раскладках клавиатуры 
- Предоставление локализованной справки и документация 
- Перевод сообщений об ошибках и уведомлений 
- Локализация функциональности поиска 

## Тестирование и обеспечение качества 

### Стратегия тестирования 

- Тестирование с носителями языка 
- Проверка переводов в контексте 
- Тестирование расширения и усечения текста 
- Проверка форматирования даты, числа и валюты 
- Тщательное тестирование макетов RTL 
- Проверка функциональности переключения языка 
- Тестирование с различными настройками локали 
- Реализация автоматизированного тестирования i18n 

### Распространенные проблемы 

- Проверка на наличие жестко закодированных строк 
- Проверка правильности образования множественного числа 
- Поиск объединенных строк 
- Тестирование на наличие проблем с обработкой Unicode 
- Проверка сортировки и сопоставления 
- Проверка культурных предположений в логике 
- Тестирование с длинными словами и строками 
- Проверка обработки специальных символов 

### Инструменты и автоматизация 

- Реализация линтинга для проблем i18n 
- Использование систем управления переводами 
- Автоматизация создания снимков экрана для context 
- Внедрите псевдолокализацию для тестирования 
- Используйте автоматизированное тестирование для проблем с макетом 
- Отслеживайте охват и качество перевода 
- Внедряйте проверки CI/CD для i18n 
- Отслеживайте отсутствие переводов 

## Правовые вопросы и соответствие 

- Изучите местные правовые требования 
- Адаптируйте политику конфиденциальности для разных регионов 
- Рассмотрите GDPR и другие правила конфиденциальности 
- Адаптируйте условия обслуживания для местных рынков 
- Помните об ограничениях контента по странам 
- Рассмотрите требования доступности по регионам 
- Документируйте меры соответствия 
- Проконсультируйтесь с юристами по ключевым рынкам