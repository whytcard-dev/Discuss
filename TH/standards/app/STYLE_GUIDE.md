# คู่มือสไตล์ทั่วไปสำหรับ WhytCard ## บทนำ เอกสารนี้กำหนดสไตล์การเขียนโค้ดทั่วไปและแนวทางปฏิบัติที่ดีที่สุดที่ต้องปฏิบัติตามในทุกภาษาและเทคโนโลยีที่ใช้ในโครงการ WhytCard มาตรฐานเหล่านี้ช่วยรับรองความสม่ำเสมอ ความสามารถในการบำรุงรักษา และคุณภาพตลอดทั้งฐานโค้ด ## สารบัญ 1. [หลักการพื้นฐาน](#หลักการพื้นฐาน) 2. [ข้อตกลงในการตั้งชื่อ](#ข้อตกลงในการตั้งชื่อ) 3. [การจัดรูปแบบ](#การจัดรูปแบบ) 4. [การจัดทำเอกสาร](#การจัดทำเอกสาร) 5. [โครงสร้างโค้ด](#โครงสร้างโค้ด) 6. [แนวปฏิบัติเฉพาะภาษา](#แนวปฏิบัติเฉพาะภาษา) 7. [การควบคุมเวอร์ชัน](#การควบคุมเวอร์ชัน) ## หลักการพื้นฐาน ### ความชัดเจนมากกว่าความชาญฉลาด ให้ความสำคัญกับความชัดเจนของโค้ดมากกว่าโซลูชันที่ชาญฉลาดหรือซับซ้อนเสมอ: - เขียนโค้ดที่เข้าใจง่าย - หลีกเลี่ยงฟีเจอร์ภาษาที่คลุมเครือเว้นแต่จำเป็น - ให้ความสำคัญกับความสามารถในการอ่านได้และการบำรุงรักษามากกว่าความสั้น ### ความสม่ำเสมอ รักษาความสม่ำเสมอตลอดทั้งฐานโค้ด: - ปฏิบัติตามรูปแบบที่กำหนดไว้ในโครงการ - อย่าผสมสไตล์หรือแนวทางที่แตกต่างกัน - เมื่อแก้ไขโค้ดที่มีอยู่ ให้ตรงกับสไตล์ของโค้ด ### DRY (อย่าทำซ้ำ) หลีกเลี่ยง การทำซ้ำรหัส: - แยกรหัสที่ซ้ำกันเป็นฟังก์ชั่นหรือคลาส - สร้างยูทิลิตี้ที่ใช้ร่วมกันสำหรับการดำเนินการทั่วไป - ใช้การสืบทอดหรือการจัดองค์ประกอบเพื่อแบ่งปันพฤติกรรม ### KISS (Keep It Simple, Stupid) เลือกวิธีแก้ปัญหาที่เรียบง่ายมากกว่าวิธีที่ซับซ้อน: - เริ่มด้วยวิธีที่ง่ายที่สุดที่ใช้งานได้ - เพิ่มความซับซ้อนเมื่อจำเป็นเท่านั้น - แยกปัญหาที่ซับซ้อนออกเป็นส่วนที่เรียบง่ายกว่า ### YAGNI (You Aren&#39;t Gonna Need It) อย่าเพิ่มฟังก์ชันจนกว่าจะจำเป็น: - หลีกเลี่ยงคุณสมบัติที่คาดเดาไม่ได้ - ใช้เฉพาะสิ่งที่จำเป็นในขณะนี้ - รีแฟกเตอร์เมื่อจำเป็น ไม่ใช่ดำเนินการล่วงหน้า ## ข้อตกลงในการตั้งชื่อ ### กฎทั่วไป - ชื่อควรอธิบายและสื่อถึงจุดประสงค์ - ใช้คำเต็มแทนคำย่อ (ยกเว้นคำทั่วไป) - ให้สอดคล้องกับรูปแบบการตั้งชื่อที่มีอยู่ ### สไตล์เคส ใช้สไตล์เคสที่เหมาะสมสำหรับแต่ละภาษา: - **camelCase**: ตัวแปรและฟังก์ชั่น JavaScript/TypeScript - **PascalCase**: คลาสในภาษาส่วนใหญ่ ส่วนประกอบ React - **snake_case**: ตัวแปรและฟังก์ชั่น Python - **kebab-case**: องค์ประกอบ HTML, คลาส CSS, ชื่อไฟล์ - **UPPER_SNAKE_CASE**: ค่าคงที่ในภาษาส่วนใหญ่ ### ตัวอย่างการตั้งชื่อ ```javascript // JavaScript const userProfile = { firstName: &#39;John&#39;, lastName: &#39;Doe&#39;, EMAIL_REGEX: /^[^@]+@[^@]+\.[^@]+$/, }; ฟังก์ชัน calculateTotalPrice(items) { // Implementation } class UserManager { // Implementation } ``` ```python # Python user_profile = { &quot;first_name&quot;: &quot;John&quot;, &quot;last_name&quot;: &quot;Doe&quot;, &quot;EMAIL_REGEX&quot;: r&quot;^[^@]+@[^@]+\.[^@]+$&quot;, } def calculate_total_price(items): # Implementation pass class UserManager: # Implementation pass ``` ## การจัดรูปแบบ ### การเยื้อง - ใช้การเยื้องที่สม่ำเสมอตลอดทั้งโครงการ - สำหรับ JavaScript/TypeScript/HTML/CSS: 2 ช่องว่าง - สำหรับ Python: 4 ช่องว่าง (PEP 8) - ห้ามผสมแท็บและช่องว่าง ### ความยาวบรรทัด - จำกัดบรรทัดให้มีความยาวสูงสุด 100 อักขระสำหรับภาษาส่วนใหญ่ - สำหรับ Python ให้ปฏิบัติตาม PEP 8 (79 อักขระสำหรับรหัส 72 อักขระสำหรับความคิดเห็น) - แบ่งบรรทัดยาวใน วิธีที่เป็นธรรมชาติสำหรับภาษา ### ระยะห่าง - ใช้ช่องว่างรอบตัวดำเนินการ - ใช้ช่องว่างหลังเครื่องหมายจุลภาคและเครื่องหมายอัฒภาค - ใช้ระยะห่างที่สม่ำเสมอในการเรียกฟังก์ชันและการประกาศ ### วงเล็บและบล็อก - วงเล็บเปิดในบรรทัดเดียวกันสำหรับภาษาส่วนใหญ่ (ยกเว้นฟังก์ชันและคลาส Python) - การใช้วงเล็บสม่ำเสมอแม้แต่สำหรับบล็อกบรรทัดเดียว - จัดตำแหน่งวงเล็บปิดให้ตรงกับจุดเริ่มต้นของบรรทัดเปิด ### ตัวอย่าง ```javascript // ฟังก์ชัน JavaScript calculateDiscount(price, discountPercent) { if (price &lt;= 0) { return 0; } const discount = price * (discountPercent / 100); return discount; } const items = [ { name: &#39;Item 1&#39;, price: 10 }, { name: &#39;Item 2&#39;, price: 20 }, { name: &#39;Item 3&#39;, price: 30 }, ]; ``` ```python # Python def calculate_discount(price, discount_percent): if price &lt;= 0: return 0 discount = price * (discount_percent / 100) return discount items = [ {&quot;name&quot;: &quot;Item 1&quot;, &quot;price&quot;: 10}, {&quot;name&quot;: &quot;Item 2&quot;, &quot;price&quot;: 20}, {&quot;name&quot;: &quot;Item 3&quot;, &quot;price&quot;: 30}, ] ``` ## เอกสารประกอบ ### คำอธิบายโค้ด - ใช้คำอธิบายประกอบเพื่ออธิบายว่า &quot;ทำไม&quot; ไม่ใช่ &quot;อะไร&quot; - คำอธิบายอัลกอริทึมที่ซับซ้อนหรือวิธีแก้ปัญหาที่ไม่ชัดเจน - อัปเดตคำอธิบายประกอบด้วยการเปลี่ยนแปลงโค้ด - หลีกเลี่ยงคำอธิบายประกอบที่ซ้ำซ้อนหรือชัดเจน ### เอกสารประกอบฟังก์ชันและวิธีการ จัดทำเอกสารฟังก์ชันและวิธีการทั้งหมดด้วย: - คำอธิบายวัตถุประสงค์ - พารามิเตอร์และประเภทของพารามิเตอร์ - ค่าส่งคืนและประเภท - ข้อยกเว้นที่อาจเกิดขึ้น - ตัวอย่างการใช้งานสำหรับฟังก์ชันที่ซับซ้อน ### ส่วนหัวของไฟล์ รวมไว้ที่จุดเริ่มต้นของไฟล์แต่ละไฟล์: - บทสรุป คำอธิบายวัตถุประสงค์ของไฟล์ - ข้อมูลผู้แต่ง - วันที่สร้าง - ข้อมูลใบอนุญาต ### ตัวอย่าง ```javascript /** * คำนวณราคารวมของสินค้าหลังจากใช้ส่วนลด * * @param {Array<Object> } รายการ - อาร์เรย์ของวัตถุรายการที่มีคุณสมบัติราคา * @param {number} discountPercent - เปอร์เซ็นต์ส่วนลด (0-100) * @returns {number} ราคาทั้งหมดหลังส่วนลด * * @example * const รายการ = [{ price: 10 }, { price: 20 }]; * const total = calculateTotalPrice(รายการ, 10); // คืนค่า 27 */ ฟังก์ชัน calculateTotalPrice(items, discountPercent) { // การใช้งาน } ``` ```python def calculate_total_price(items, discount_percent): &quot;&quot;&quot; คำนวณราคารวมของรายการหลังจากใช้ส่วนลดแล้ว อาร์กิวเมนต์: items: รายการของพจนานุกรมที่มีคุณสมบัติราคา discount_percent: เปอร์เซ็นต์ส่วนลด (0-100) คืนค่า: float: ราคารวมหลังจากส่วนลด ตัวอย่าง: items = [{&quot;price&quot;: 10}, {&quot;price&quot;: 20}] total = calculate_total_price(items, 10) # คืนค่า 27 &quot;&quot;&quot; # การใช้งาน ``` ## โครงสร้างโค้ด ### การจัดระเบียบไฟล์ - คลาส/ส่วนประกอบหลักหนึ่งรายการต่อไฟล์ - จัดกลุ่มฟังก์ชันที่เกี่ยวข้องในไดเร็กทอรีเดียวกัน - แยกอินเทอร์เฟซจากการนำไปใช้งานเมื่อเหมาะสม - รักษาขนาดไฟล์ให้เหมาะสม (น้อยกว่า 500 บรรทัดเป็นแนวทาง) ### ขนาดของฟังก์ชันและวิธีการ - รักษาให้ฟังก์ชันและวิธีการมีขนาดเล็กและเน้นเฉพาะ - มุ่งเป้าไปที่ฟังก์ชันที่ทำสิ่งเดียว ดี - จำกัดความยาวของฟังก์ชัน (&lt; 50 บรรทัดเป็นแนวทาง) - แยกตรรกะที่ซับซ้อนลงในฟังก์ชันตัวช่วย ### การจัดการการอ้างอิง - ลดการอ้างอิงระหว่างโมดูลให้เหลือน้อยที่สุด - ใช้การฉีดการอ้างอิงเพื่อลดการเชื่อมโยง - ระบุการอ้างอิงของโมดูลอย่างชัดเจน - หลีกเลี่ยงการอ้างอิงแบบวนซ้ำ ### การจัดการข้อผิดพลาด - จัดการข้อผิดพลาดในระดับที่เหมาะสม - ใช้ข้อยกเว้นสำหรับเงื่อนไขที่เป็นข้อยกเว้น - แสดงข้อความแสดงข้อผิดพลาดที่มีความหมาย - อย่ากลืนข้อยกเว้นโดยไม่มีเหตุผลที่ดี ## แนวทางเฉพาะภาษา ### JavaScript/TypeScript - ปฏิบัติตามคู่มือสไตล์ JavaScript ของ Airbnb - ใช้คุณสมบัติ ES6+ เมื่อเหมาะสม - ใช้ TypeScript สำหรับความปลอดภัยของประเภท - เลือกรูปแบบการเขียนโปรแกรมเชิงฟังก์ชัน ```javascript // เลือก const มากกว่า let เมื่อตัวแปรจะไม่ได้รับการกำหนดค่าใหม่ const PI = 3.14159; // ใช้เทมเพลตตัวอักษรสำหรับการสอดแทรกสตริง const greeting = `Hello, ${name}!`; // ใช้การกำหนดการแยกโครงสร้าง const { firstName, lastName } = user; // ใช้ฟังก์ชันลูกศรสำหรับการโทรกลับแบบสั้น const doubled = numbers.map(n =&gt; n * 2); ``` ### Python - ปฏิบัติตามแนวทางสไตล์ PEP 8 - ใช้คำแนะนำประเภท (PEP 484) - เลือกความเข้าใจรายการ/พจนานุกรมสำหรับกรณีที่เรียบง่าย - ใช้ตัวจัดการบริบทสำหรับการจัดการทรัพยากร ```python # ใช้ความเข้าใจรายการสำหรับการแปลงที่เรียบง่าย doubled = [n * 2 สำหรับ n เป็นตัวเลข] # ใช้ตัวจัดการบริบทสำหรับการจัดการทรัพยากรโดย open(&quot;file.txt&quot;, &quot;r&quot;) เป็น f: content = f.read() # ใช้คำแนะนำประเภท def Greet(name: str) -&gt; str: return f&quot;Hello, {name}!&quot; ``` ### HTML/CSS - ใช้องค์ประกอบ HTML แบบความหมาย - ปฏิบัติตามระเบียบวิธี BEM สำหรับคลาส CSS - ลดขนาดสไตล์อินไลน์ให้เหลือน้อยที่สุด - ใช้ตัวแปร CSS สำหรับการกำหนดธีม ```html <!-- Use semantic HTML --><article class="card"><header class="card__header"><h2 class="card__title"> ชื่อ</h2></header><div class="card__content"><p> เนื้อหาอยู่ที่นี่</p></div></article> ``` ```css /* ใช้ตัวแปร CSS สำหรับการกำหนดธีม */ :root { --primary-color: #3498db; --secondary-color: #2ecc71; } .card { border: 1px solid var(--primary-color); } /* ปฏิบัติตามวิธีการ BEM */ .card__header { background-color: var(--primary-color); } .card__title { font-size: 1.5rem; } ``` ## การควบคุมเวอร์ชัน ### ข้อความคอมมิท - เขียนข้อความคอมมิทที่ชัดเจนและอธิบายได้ - ใช้รูปแบบคำสั่ง (&quot;เพิ่มฟีเจอร์&quot; ไม่ใช่ &quot;เพิ่มฟีเจอร์&quot;) - อ้างอิงหมายเลขปัญหาเมื่อใช้ได้ - ปฏิบัติตามรูปแบบคอมมิททั่วไป ``` ความสำเร็จ: เพิ่มระบบตรวจสอบสิทธิ์ผู้ใช้ - ใช้การตรวจสอบสิทธิ์ตาม JWT - เพิ่มจุดสิ้นสุดการเข้าสู่ระบบและการลงทะเบียน - สร้างมิดเดิลแวร์การตรวจสอบสิทธิ์ ปิด #123 ``` ### กลยุทธ์การแยกสาขา - ใช้สาขาฟีเจอร์สำหรับการพัฒนาใหม่ - รักษาให้สาขาหลัก/หลักมีเสถียรภาพ - ใช้คำขอดึงเพื่อตรวจสอบโค้ด - ลบสาขาหลังจากการรวม ### การตรวจสอบโค้ด - ตรวจสอบโค้ดทั้งหมดก่อนการผสาน - เน้นที่สถาปัตยกรรม ความปลอดภัย และประสิทธิภาพ - สร้างสรรค์และเคารพในความคิดเห็น - ใช้เครื่องมืออัตโนมัติเพื่อตรวจจับปัญหาสไตล์ ## ข้อสรุป คู่มือสไตล์นี้ได้รับการออกแบบมาเพื่อให้แน่ใจว่ามีความสอดคล้องและมีคุณภาพทั่วทั้งฐานโค้ด WhytCard แม้ว่าจะครอบคลุมหลักการทั่วไป แต่โปรดดูคู่มือเฉพาะภาษาสำหรับกฎที่ละเอียดกว่า โปรดจำไว้ว่าเป้าหมายคือการสร้างโค้ดที่สามารถบำรุงรักษาได้ อ่านได้ และแข็งแกร่ง คาดว่าสมาชิกในทีมทุกคนจะปฏิบัติตามแนวทางเหล่านี้และช่วยบังคับใช้ผ่านการตรวจสอบโค้ดและการให้คำปรึกษา --- อัปเดตล่าสุด: 2025-01-15 