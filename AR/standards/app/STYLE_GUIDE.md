# دليل الأسلوب العام لمشروع WhytCard ## مقدمة: تُحدد هذه الوثيقة أسلوب الترميز العام وأفضل الممارسات الواجب اتباعها في جميع اللغات والتقنيات المستخدمة في مشروع WhytCard. تضمن هذه المعايير الاتساق والصيانة والجودة في جميع أجزاء قاعدة الكود. ## جدول المحتويات 1. [المبادئ الأساسية](#fundamental-principles) 2. [اتفاقيات التسمية](#naming-conventions) 3. [التنسيق](#formatting) 4. [التوثيق](#documentation) 5. [هيكل الكود](#code-structure) 6. [إرشادات خاصة باللغة](#language-specific-guidelines) 7. [التحكم في الإصدار](#version-control) ## المبادئ الأساسية ### الوضوح على الذكاء أعطِ الأولوية دائمًا لوضوح الكود على الحلول الذكية أو المعقدة: - اكتب كودًا سهل الفهم - تجنب ميزات اللغة الغامضة إلا إذا لزم الأمر - أعطِ الأولوية لقابلية القراءة والصيانة على الإيجاز ### الاتساق حافظ على الاتساق في جميع أنحاء قاعدة الكود: - اتبع الأنماط الراسخة في المشروع - لا تخلط بين الأنماط أو الطرق المختلفة - عند تعديل الكود الحالي، طابق أسلوبه ### جاف (لا تكرر نفسك) تجنب تكرار التعليمات البرمجية: - استخراج التعليمات البرمجية المكررة إلى وظائف أو فئات - إنشاء أدوات مساعدة مشتركة للعمليات الشائعة - استخدام الميراث أو التكوين لمشاركة السلوك ### KISS (ابق الأمر بسيطًا، يا غبي) تفضيل الحلول البسيطة على الحلول المعقدة: - ابدأ بأبسط نهج يعمل - أضف التعقيد فقط عند الضرورة - قسّم المشكلات المعقدة إلى أجزاء أبسط ### YAGNI (لن تحتاج إليها) لا تقم بإضافة وظيفة حتى تكون ضرورية: - تجنب الميزات المضاربة - قم بتنفيذ ما هو مطلوب الآن فقط - أعد الهيكلة عند الحاجة، وليس بشكل استباقي ## اتفاقيات التسمية ### القواعد العامة - يجب أن تكون الأسماء وصفية وتنقل الغرض - استخدم الكلمات الكاملة بدلاً من الاختصارات (باستثناء الكلمات الشائعة) - كن متسقًا مع أنماط التسمية الموجودة ### أنماط الحالة استخدم نمط الحالة المناسب لكل لغة: - **camelCase**: متغيرات ووظائف JavaScript/TypeScript - **PascalCase**: الفئات في معظم اللغات، مكونات React - **snake_case**: متغيرات ووظائف Python - **kebab-case**: عناصر HTML، فئات CSS، أسماء الملفات - **UPPER_SNAKE_CASE**: الثوابت في معظم اللغات ### أمثلة التسمية ```javascript // JavaScript const userProfile = { firstName: &#39;John&#39;, lastName: &#39;Doe&#39;, EMAIL_REGEX: /^[^@]+@[^@]+\.[^@]+$/, }; دالة calculateTotalPrice(items) { // Implementation } class UserManager { // Implementation } ``` ```python # Python user_profile = { &quot;first_name&quot;: &quot;John&quot;, &quot;last_name&quot;: &quot;Doe&quot;, &quot;EMAIL_REGEX&quot;: r&quot;^[^@]+@[^@]+\.[^@]+$&quot;, } def calculate_total_price(items): # Implementation pass class UserManager: # Implementation pass ``` ## Formatting ### Indentation - Use fixed indentation throughout the project - For JavaScript/TypeScript/HTML/CSS: 2 distances - For Python: 4 distances (PEP 8) - لا تخلط أبدًا بين علامات التبويب والمسافات ### Line Length - Limit lines to 100 character maximum for most languages - For Python, follow PEP 8 (79 character for code, 72 for comments) - Break the long lines in a way that&#39;s natural for language ### Spacing - Use spaces حول المشغلات - استخدام المسافات بعد الفواصل والفاصلات المنقوطة - استخدام التباعد المتسق في استدعاءات الوظائف والإعلانات ### الأقواس والكتل - فتح الأقواس على نفس السطر لمعظم اللغات (باستثناء وظائف وفئات Python) - الاستخدام المتسق للأقواس حتى بالنسبة للكتل ذات السطر الواحد - محاذاة الأقواس المغلقة مع بداية السطر الافتتاحي ### أمثلة ```javascript // JavaScript function calculateDiscount(price, discountPercent) { if (price &lt;= 0) { return 0; } const discount = price * (discountPercent / 100); return discount; } const items = [ { name: &#39;Item 1&#39;, price: 10 }, { name: &#39;Item 2&#39;, price: 20 }, { name: &#39;Item 3&#39;, price: 30 }, ]; ``` ```python # Python def calculate_discount(price, discount_percent): if price &lt;= 0: return 0 discount = price * (discount_percent / 100) return discount items = [ {&quot;name&quot;: &quot;Item 1&quot;, &quot;price&quot;: 10}, {&quot;name&quot;: &quot;Item 2&quot;, &quot;price&quot;: 20}, {&quot;name&quot;: &quot;Item 3&quot;, &quot;price&quot;: 30}, ] ``` ## التوثيق ### تعليقات الكود - استخدم التعليقات لشرح &quot;لماذا&quot; وليس &quot;ماذا&quot; - علق على الخوارزميات المعقدة أو الحلول غير الواضحة - حافظ على تحديث التعليقات بتغييرات الكود - تجنب التعليقات المكررة أو الواضحة ### توثيق الوظيفة والطريقة توثيق جميع الوظائف والطرق مع: - وصف الغرض - المعلمات وأنواعها - قيمة الإرجاع والنوع - الاستثناءات التي قد يتم طرحها - أمثلة الاستخدام للوظائف المعقدة ### رؤوس الملفات قم بتضمين في بداية كل ملف: - وصف موجز لغرض الملف - معلومات المؤلفين - تاريخ الإنشاء - معلومات الترخيص ### أمثلة ```javascript /** * يحسب السعر الإجمالي للعناصر بعد تطبيق الخصومات. * * @param {Array<Object> } items - مجموعة من كائنات العناصر ذات خاصية السعر * @param {number} discountPercent - نسبة الخصم (0-100) * @returns {number} السعر الإجمالي بعد الخصم * * @example * const items = [{ price: 10 }, { price: 20 }]; * const total = calculateTotalPrice(items, 10); // إرجاع 27 */ function calculateTotalPrice(items, discountPercent) { // Implementation } ``` ```python def calculate_total_price(items, discount_percent): &quot;&quot;&quot; احسب السعر الإجمالي للعناصر بعد تطبيق الخصومات. Args: items: قائمة بالقواميس التي تحتوي على خاصية السعر discount_percent: نسبة الخصم (0-100) Returns: float: السعر الإجمالي بعد الخصم Example: items = [{&quot;price&quot;: 10}, {&quot;price&quot;: 20}] total = calculate_total_price(items, 10) # Returns 27 &quot;&quot;&quot; # Implementation ``` ## هيكل الكود ### تنظيم الملفات - فئة/مكون أساسي واحد لكل ملف - تجميع الوظائف ذات الصلة في نفس الدليل - فصل الواجهة عن التنفيذ عند الاقتضاء - الحفاظ على حجم الملفات معقول (&lt; 500 سطر كدليل) ### حجم الوظيفة والطريقة - الحفاظ على الدوال والطرق صغيرة ومُركزة - استهدف الدوال التي تؤدي وظيفة واحدة بشكل جيد - الحد من طول الوظيفة (&lt; 50 سطرًا كدليل) - استخراج المنطق المعقد إلى وظائف مساعدة ### إدارة التبعيات - تقليل التبعيات بين الوحدات النمطية - استخدام حقن التبعيات لتقليل الاقتران - توثيق تبعيات الوحدات النمطية بوضوح - تجنب التبعيات الدائرية ### معالجة الأخطاء - معالجة الأخطاء على المستوى المناسب - استخدام الاستثناءات للظروف الاستثنائية - تقديم رسائل خطأ ذات مغزى - لا تبتلع الاستثناءات دون سبب وجيه ## إرشادات خاصة باللغة ### JavaScript/TypeScript - اتبع دليل نمط Airbnb JavaScript - استخدم ميزات ES6+ عند الاقتضاء - استخدم TypeScript لسلامة النوع - تفضيل أنماط البرمجة الوظيفية ```javascript // تفضيل const على let عندما لا يتم إعادة تعيين المتغير const PI = 3.14159; // استخدم أحرف القالب لاستيفاء السلسلة const greeting = `Hello, ${name}!`; // استخدم تعيين التفكيك const { firstName, lastName } = user; // استخدم وظائف الأسهم لاسترجاعات قصيرة const doubled = numbers.map(n =&gt; n * 2); ``` ### Python - اتبع دليل أسلوب PEP 8 - استخدم تلميحات النوع (PEP 484) - تفضيل فهم القائمة/القاموس للحالات البسيطة - استخدم مديري السياق لإدارة الموارد ```python # استخدم فهم القائمة للتحويلات البسيطة doubled = [n * 2 لـ n في الأرقام] # استخدم مديري السياق لإدارة الموارد مع open(&quot;file.txt&quot;, &quot;r&quot;) مثل f: content = f.read() # استخدم تلميحات النوع def greet(name: str) -&gt; str: return f&quot;Hello, {name}!&quot; ``` ### HTML/CSS - استخدم عناصر HTML الدلالية - اتبع منهجية BEM لفئات CSS - تقليل الأنماط المضمنة - استخدم متغيرات CSS لتصميم السمات ```html <!-- Use semantic HTML --><article class="card"><header class="card__header"><h2 class="card__title" style=";text-align:right;direction:rtl"> عنوان</h2></header><div class="card__content" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"> المحتوى يذهب هنا</p></div></article> ``` ```css /* استخدم متغيرات CSS للتصميم */ :root { --primary-color: #3498db; --secondary-color: #2ecc71; } .card { border: 1px solid var(--primary-color); } /* اتبع منهجية BEM */ .card__header { background-color: var(--primary-color); } .card__title { font-size: 1.5rem; } ``` ## التحكم في الإصدارات ### رسائل الالتزام - اكتب رسائل التزام واضحة ووصفية - استخدم صيغة الأمر (&quot;إضافة ميزة&quot; وليس &quot;تمت إضافة ميزة&quot;) - أشر إلى أرقام المشكلات عند الاقتضاء - اتبع تنسيق الالتزامات التقليدي ``` الميزة: إضافة نظام مصادقة المستخدم - تنفيذ مصادقة تعتمد على JWT - إضافة نقاط نهاية تسجيل الدخول والتسجيل - إنشاء برنامج وسيط للمصادقة إغلاق #123 ``` ### استراتيجية التفرع - استخدم فروع الميزة للتطوير الجديد - حافظ على استقرار الفرع الرئيسي / الرئيسي - استخدم طلبات السحب لمراجعة الكود - احذف الفروع بعد الدمج ### مراجعات الكود - راجع جميع الكود قبل الدمج - ركز على البنية والأمان والأداء - كن بناءً ومحترمًا في التعليقات - استخدم أدوات آلية للقبض على مشكلات الأسلوب ## الخاتمة تم تصميم دليل الأسلوب هذا لضمان الاتساق والجودة عبر قاعدة بيانات WhytCard. وبينما يغطي المبادئ العامة، راجع الأدلة الخاصة باللغة للحصول على قواعد أكثر تفصيلاً. تذكر أن الهدف هو إنشاء كود قابل للصيانة وقابل للقراءة وقوي. من المتوقع أن يتبع جميع أعضاء الفريق هذه الإرشادات ويساعدوا في تنفيذها من خلال مراجعات التعليمات البرمجية والتوجيه. --- آخر تحديث: 2025-01-15 